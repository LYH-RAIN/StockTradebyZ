2025-11-22 12:02:33,702 [INFO] ğŸ“Š å¼€å§‹åŠ è½½æ•°æ®ï¼šdata
2025-11-22 12:02:33,720 [INFO] ğŸ“‹ å‘ç° 5429 åªè‚¡ç¥¨
2025-11-22 12:02:33,720 [INFO] ğŸ”„ æ­£åœ¨åŠ è½½å…¨éƒ¨ 5429 åªè‚¡ç¥¨ï¼Œè¯·ç¨å€™...
2025-11-22 12:02:41,300 [INFO] âœ… æˆåŠŸåŠ è½½ 5429 åªè‚¡ç¥¨æ•°æ®ï¼
2025-11-22 12:02:42,139 [INFO] åŠ è½½é€‰æ‹©å™¨: å°‘å¦‡æˆ˜æ³•
2025-11-22 12:02:42,139 [INFO] åŠ è½½é€‰æ‹©å™¨: SuperB1æˆ˜æ³•
2025-11-22 12:02:42,139 [INFO] åŠ è½½é€‰æ‹©å™¨: è¡¥ç¥¨æˆ˜æ³•
2025-11-22 12:02:42,139 [INFO] åŠ è½½é€‰æ‹©å™¨: å¡«å‘æˆ˜æ³•
2025-11-22 12:02:42,139 [INFO] åŠ è½½é€‰æ‹©å™¨: ä¸Šç©¿60æ”¾é‡æˆ˜æ³•
2025-11-22 12:02:42,139 [INFO] åŠ è½½é€‰æ‹©å™¨: å‡ºå‘æˆ˜æ³•
2025-11-22 12:02:42,141 [INFO] å¯åŠ¨WebæœåŠ¡: http://127.0.0.1:5000
 * Serving Flask app 'web_app'
 * Debug mode: off
2025-11-22 12:02:42,148 [INFO] [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
2025-11-22 12:02:42,148 [INFO] [33mPress CTRL+C to quit[0m
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(437, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-15 00:00:00'), Timestamp('2025-05-16 00:00:00'), Timestamp('2025-05-19 00:00:00')]
2025-11-22 12:02:46,892 [INFO] 127.0.0.1 - - [22/Nov/2025 12:02:46] "GET /api/select/å‡ºå‘æˆ˜æ³• HTTP/1.1" 200 -
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_breakout_signals å¼€å§‹: df.indexç±»å‹=<class 'pandas.core.indexes.range.RangeIndex'>, df.indexå‰5ä¸ª=[187, 188, 189, 190, 191]
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=2024-11-29 00:00:00
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=25
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG: å®Œæ•´æ•°æ®Bä¿¡å·: 54ä¸ª, æˆªå–åBä¿¡å·: 25ä¸ª
DEBUG API signalåˆ—ç»Ÿè®¡: {'': 95, 'B': 25}
DEBUG å‘ç°ä¿¡å·: signal='B', date=2025-05-29 00:00:00, price=8.74
DEBUG å‘ç°ä¿¡å·: signal='B', date=2025-06-09 00:00:00, price=8.52
DEBUG å‘ç°ä¿¡å·: signal='B', date=2025-06-10 00:00:00, price=8.51
DEBUG API: ä¿¡å·æ•°=25, è¿‡æ»¤å‰=120, è¿‡æ»¤å=120
2025-11-22 12:02:47,170 [INFO] 127.0.0.1 - - [22/Nov/2025 12:02:47] "GET /api/stock/603027?days=120&strategy=breakout HTTP/1.1" 200 -
2025-11-22 12:11:34,237 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:34] "GET / HTTP/1.1" 200 -
2025-11-22 12:11:34,268 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:34] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-22 12:11:34,310 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:34] "GET /static/css/style.css HTTP/1.1" 200 -
2025-11-22 12:11:34,310 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:34] "GET /static/js/app.js HTTP/1.1" 200 -
2025-11-22 12:11:36,040 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:36] "GET /api/selectors HTTP/1.1" 200 -
2025-11-22 12:11:37,160 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:37] "GET /api/latest_date HTTP/1.1" 200 -
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(437, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-15 00:00:00'), Timestamp('2025-05-16 00:00:00'), Timestamp('2025-05-19 00:00:00')]
2025-11-22 12:11:44,805 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:44] "GET /api/select/å‡ºå‘æˆ˜æ³• HTTP/1.1" 200 -
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG API signalåˆ—ç»Ÿè®¡: {'': 119, 'S1': 1}
DEBUG å‘ç°ä¿¡å·: signal='S1', date=2025-07-11 00:00:00, price=29.97
DEBUG API: ä¿¡å·æ•°=1, è¿‡æ»¤å‰=120, è¿‡æ»¤å=120
2025-11-22 12:11:48,890 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:48] "GET /api/stock/002990?days=120&strategy=default HTTP/1.1" 200 -
2025-11-22 12:11:56,009 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:56] "GET /backtest HTTP/1.1" 200 -
2025-11-22 12:11:56,032 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:56] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-22 12:11:56,052 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:56] "GET /static/css/style.css HTTP/1.1" 200 -
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(457, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(365, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2024-05-24 00:00:00'), Timestamp('2024-05-27 00:00:00'), Timestamp('2024-05-28 00:00:00')]
2025-11-22 12:11:57,945 [INFO] 127.0.0.1 - - [22/Nov/2025 12:11:57] "GET /api/backtest?code=603027&days=365&strategy=default&stop_loss=0.05 HTTP/1.1" 200 -
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(457, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_breakout_signals å¼€å§‹: df.indexç±»å‹=<class 'pandas.core.indexes.range.RangeIndex'>, df.indexå‰5ä¸ª=[0, 1, 2, 3, 4]
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=2024-02-05 00:00:00
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(365, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=86
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2024-05-24 00:00:00'), Timestamp('2024-05-27 00:00:00'), Timestamp('2024-05-28 00:00:00')]
DEBUG: å®Œæ•´æ•°æ®Bä¿¡å·: 107ä¸ª, æˆªå–åBä¿¡å·: 86ä¸ª
2025-11-22 12:12:01,980 [INFO] 127.0.0.1 - - [22/Nov/2025 12:12:01] "GET /api/backtest?code=603027&days=365&strategy=breakout&stop_loss=0.05 HTTP/1.1" 200 -
2025-11-22 12:12:39,757 [INFO] 127.0.0.1 - - [22/Nov/2025 12:12:39] "GET / HTTP/1.1" 200 -
2025-11-22 12:12:39,786 [INFO] 127.0.0.1 - - [22/Nov/2025 12:12:39] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-22 12:12:39,820 [INFO] 127.0.0.1 - - [22/Nov/2025 12:12:39] "GET /static/css/style.css HTTP/1.1" 200 -
2025-11-22 12:12:39,825 [INFO] 127.0.0.1 - - [22/Nov/2025 12:12:39] "GET /static/js/app.js HTTP/1.1" 200 -
2025-11-22 12:12:41,520 [INFO] 127.0.0.1 - - [22/Nov/2025 12:12:41] "GET /api/selectors HTTP/1.1" 200 -
2025-11-22 12:12:42,579 [INFO] 127.0.0.1 - - [22/Nov/2025 12:12:42] "GET /api/latest_date HTTP/1.1" 200 -
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(437, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-15 00:00:00'), Timestamp('2025-05-16 00:00:00'), Timestamp('2025-05-19 00:00:00')]
2025-11-22 12:12:46,885 [INFO] 127.0.0.1 - - [22/Nov/2025 12:12:46] "GET /api/select/å‡ºå‘æˆ˜æ³• HTTP/1.1" 200 -
/Users/liuyuhang/cursor/StockTradebyZ/web_app.py:214: FutureWarning: A value is trying to be set on a copy of a DataFrame or Series through chained assignment using an inplace method.
The behavior will change in pandas 3.0. This inplace method will never work because the intermediate object on which we are setting values always behaves as a copy.

For example, when doing 'df[col].method(value, inplace=True)', try using 'df.method({col: value}, inplace=True)' or df[col] = df[col].method(value) instead, to perform the operation inplace on the original object.


  df['RSV'].fillna(0, inplace=True)
DEBUG get_stock_data å¼€å§‹: dateåˆ—ç±»å‹=datetime64[ns], dateæ˜¯ç´¢å¼•=False
DEBUG: è¿‡æ»¤volume>0åï¼Œdfå½¢çŠ¶=(457, 6), dateåˆ—NaTæ•°=0
DEBUG: tailåï¼Œdf_fullå½¢çŠ¶=(270, 6), dateåˆ—NaTæ•°=0
DEBUG: calculate_macdåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_kdjåï¼Œdateåˆ—NaTæ•°=0
DEBUG: calculate_trend_linesåï¼Œdateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals å¼€å§‹: dfå½¢çŠ¶=(270, 24), dateåˆ—NaTæ•°=0
DEBUG æ·»åŠ signalåˆ—å: dateåˆ—NaTæ•°=0
DEBUG _identify_trading_signals ç»“æŸ: dateåˆ—NaTæ•°=0
DEBUG: identify_signalsåï¼Œdateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œçš„dateç¤ºä¾‹=N/A
DEBUG: tail(days)åï¼Œdf_resultå½¢çŠ¶=(120, 26), dateåˆ—NaTæ•°=0, Bä¿¡å·è¡Œæ•°=0
DEBUG: reset_indexåï¼Œdateåˆ—NaTæ•°=0, å‰3ä¸ªdate=[Timestamp('2025-05-29 00:00:00'), Timestamp('2025-05-30 00:00:00'), Timestamp('2025-06-03 00:00:00')]
DEBUG API signalåˆ—ç»Ÿè®¡: {'': 119, 'S1': 1}
DEBUG å‘ç°ä¿¡å·: signal='S1', date=2025-07-11 00:00:00, price=29.97
DEBUG API: ä¿¡å·æ•°=1, è¿‡æ»¤å‰=120, è¿‡æ»¤å=120
2025-11-22 12:12:55,482 [INFO] 127.0.0.1 - - [22/Nov/2025 12:12:55] "GET /api/stock/002990?days=120&strategy=default HTTP/1.1" 200 -
