# 📊 量化选股Web界面 - 快速开始

## ✨ 新功能：可视化选股系统

已为你的量化选股项目创建了一个现代化的Web界面！

### 🎯 主要功能

- ✅ **一键运行战法**：点击按钮即可运行各种选股策略
- ✅ **K线图展示**：点击股票查看详细的K线图和技术指标
- ✅ **多战法对比**：同时对比所有战法的选股结果
- ✅ **实时筛选排序**：按涨跌幅、成交量等维度灵活筛选
- ✅ **响应式设计**：支持PC、平板、手机访问
- ✅ **美观界面**：现代化UI设计，操作流畅

### 🚀 快速启动（3步）

```bash
# 1. 安装Flask（如果还没安装）
pip3 install flask

# 2. 启动Web服务
./start_web.sh

# 3. 打开浏览器访问
# http://127.0.0.1:5000
```

就这么简单！🎉

## 📁 文件结构

```
StockTradebyZ/
├── web_app.py              # Flask后端服务
├── start_web.sh            # 一键启动脚本
├── templates/              # HTML模板
│   └── index.html         # 主页面
├── static/                 # 静态资源
│   ├── css/
│   │   └── style.css      # 样式文件
│   └── js/
│       └── app.js         # 前端逻辑
├── Web界面使用说明.md       # 详细使用文档
└── 前端系统说明.md          # 本文件
```

## 🎨 界面预览

### 主界面功能区

```
┌─────────────────────────────────────────┐
│  📈 量化选股系统        最新交易日: 2024-11-21  │
├─────────────────────────────────────────┤
│  选择战法                                │
│  [少妇战法] [SuperB1] [补票] [填坑]       │
│  [上穿60放量] [出坑战法⭐] [对比所有]      │
├─────────────────────────────────────────┤
│  选股结果 - 出坑战法                      │
│  选中: 15只  平均涨跌: +2.35%             │
│  ┌──────┐ ┌──────┐ ┌──────┐           │
│  │000001│ │000002│ │600000│ ...       │
│  │¥16.80│ │¥25.30│ │¥8.45 │           │
│  │+3.25%│ │+1.80%│ │+4.10%│           │
│  └──────┘ └──────┘ └──────┘           │
└─────────────────────────────────────────┘
```

### K线图窗口

点击任意股票卡片，弹出K线图：

```
┌─────────────────────────────────────┐
│  000001 - K线图                  [×] │
├─────────────────────────────────────┤
│  📊 K线图 + MA5/MA10/MA20/MA60     │
│     ┌────────────────────────┐     │
│     │   /\  /\    /\          │     │
│     │  /  \/  \  /  \  /\     │     │
│     │ /        \/    \/  \    │     │
│     └────────────────────────┘     │
│                                      │
│  📊 成交量图                         │
│     ┌────────────────────────┐     │
│     │  ▌ ▌▌▌  ▌▌  ▌          │     │
│     └────────────────────────┘     │
└─────────────────────────────────────┘
```

## 🔥 核心特性

### 1. 战法选股

- **6大战法**：少妇、SuperB1、补票、填坑、上穿60放量、出坑
- **一键运行**：点击按钮立即获取选股结果
- **实时统计**：显示选中数量、平均涨跌幅

### 2. K线图分析

- **交互式图表**：支持缩放、拖动、查看具体数值
- **多条均线**：MA5/MA10/MA20/MA60
- **成交量柱状图**：红涨绿跌，直观展示
- **技术指标**：自动计算并显示关键指标

### 3. 智能筛选

- **排序选项**：代码、涨跌幅、成交量
- **详情切换**：一键显示/隐藏技术指标
- **颜色标识**：红涨绿跌，一目了然

### 4. 多战法对比

- **并行运行**：同时运行所有战法
- **结果对比**：对比每个战法的选股数量
- **交叉验证**：找出被多个战法选中的股票

## 📱 使用场景

### 场景1：每日盘后选股

```
1. 更新数据
   python3 fetch_kline.py --end today
   
2. 启动Web界面
   ./start_web.sh
   
3. 运行出坑战法
   点击 [出坑战法] 按钮
   
4. 查看K线图判断
   点击感兴趣的股票
   
5. 记录选股结果
   准备第二天操作
```

### 场景2：对比不同战法

```
1. 点击 [对比所有战法]
2. 查看每个战法的选股数量
3. 找出被多个战法选中的股票
4. 点击股票代码查看K线图
5. 做出投资决策
```

### 场景3：研究特定股票

```
1. 运行任意战法
2. 在结果中找到目标股票
3. 点击查看K线图
4. 分析技术形态和趋势
5. 判断买入时机
```

## 🎓 快速上手教程

### 第一次使用（5分钟）

**步骤1：确保数据已下载**
```bash
# 检查数据
ls data/*.csv | wc -l
# 如果数量为0，需要先下载数据
```

**步骤2：启动服务**
```bash
./start_web.sh
```

**步骤3：打开浏览器**
- 访问：http://127.0.0.1:5000
- 等待页面加载完成

**步骤4：运行第一个战法**
- 点击【出坑战法】按钮
- 等待几秒钟
- 查看选股结果

**步骤5：查看K线图**
- 点击任意股票卡片
- 查看K线图和技术指标
- 分析买入时机

**完成！** 🎉

## 💡 使用技巧

### 技巧1：快速判断买入时机

查看K线图时，注意以下信号：

✅ **强买入信号**：
- 放量突破前高
- 均线多头排列（MA5 > MA10 > MA20 > MA60）
- 价格在所有均线上方
- 当日大阳线

⚠️ **谨慎信号**：
- 长上影线（上方压力大）
- 价格跌破MA20
- 缩量上涨（后续乏力）
- 成交量萎缩

### 技巧2：多战法交叉验证

如果同一只股票被多个战法选中：
- ✅ 技术面强势
- ✅ 可重点关注
- ⚠️ 仍需结合基本面

操作方法：
1. 点击【对比所有战法】
2. 看哪些股票出现在多个战法中
3. 重点分析这些股票

### 技巧3：批量查看K线图

想快速浏览多只股票：
1. 点击股票查看K线图
2. 记住股票代码
3. 关闭窗口
4. 点击下一只股票
5. 重复操作

### 技巧4：自定义排序

- **按涨跌幅排序**：找强势股
- **按成交量排序**：找活跃股
- **按代码排序**：快速定位

## ⚙️ 配置说明

### 修改监听地址

编辑 `start_web.sh`：

```bash
# 只允许本机访问（默认）
python3 web_app.py --host 127.0.0.1 --port 5000

# 允许局域网访问
python3 web_app.py --host 0.0.0.0 --port 5000

# 修改端口
python3 web_app.py --host 127.0.0.1 --port 8080
```

### 修改战法配置

编辑 `configs.json`：

```json
{
  "class": "BreakoutPreviousHighSelector",
  "alias": "出坑战法",
  "activate": true,  // 改为 false 禁用
  "params": {
    "vol_ratio_threshold": 2.0  // 调整参数
  }
}
```

## 🐛 常见问题

### Q: 启动报错 "ModuleNotFoundError: No module named 'flask'"

**解决**：
```bash
pip3 install flask
```

### Q: 页面显示"选股结果为空"

**原因**：当前市场条件不符合战法要求（正常现象）

**解决**：换其他战法试试

### Q: K线图加载失败

**原因**：数据不完整或文件损坏

**解决**：
```bash
# 重新下载该股票数据
python3 fetch_kline.py --codes "股票代码" --workers 1
```

### Q: 服务启动慢

**原因**：加载大量股票数据需要时间

**解决**：正常现象，首次启动较慢（30秒-2分钟），耐心等待

## 📊 API接口

如果需要自定义开发，可以使用以下API：

```
GET /api/selectors              # 获取所有战法
GET /api/select/<name>          # 运行指定战法
GET /api/stock/<code>           # 获取股票数据
GET /api/stock_info/<code>      # 获取股票基本信息
GET /api/compare                # 对比所有战法
GET /api/latest_date            # 获取最新交易日
```

示例：
```bash
# 运行出坑战法
curl http://127.0.0.1:5000/api/select/出坑战法

# 获取000001的数据
curl http://127.0.0.1:5000/api/stock/000001
```

## 🎯 下一步

### 进阶使用

1. **定制化开发**
   - 修改`web_app.py`添加新功能
   - 修改`templates/index.html`自定义界面
   - 修改`static/css/style.css`调整样式

2. **部署到服务器**
   - 使用Nginx反向代理
   - 配置HTTPS
   - 添加用户认证

3. **集成更多功能**
   - 实时行情推送
   - 消息提醒
   - 历史选股记录

### 相关文档

- [详细使用说明](Web界面使用说明.md)
- [出坑战法说明](出坑战法说明.md)
- [回测教程](回测教程.md)
- [完整开发指南](完整开发指南.md)

## 🙏 反馈

如有问题或建议，欢迎反馈！

---

**祝你选股顺利，盈利丰厚！** 📈💰✨

