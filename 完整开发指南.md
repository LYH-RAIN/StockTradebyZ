# StockTradebyZ å®Œæ•´å¼€å‘æŒ‡å—

## ğŸ“š æ–‡æ¡£å¯¼èˆª

æœ¬é¡¹ç›®åŒ…å«å®Œæ•´çš„æ–‡æ¡£ä½“ç³»ï¼Œé€‚åˆä¸åŒéœ€æ±‚çš„ç”¨æˆ·ï¼š

### ğŸ¯ å¿«é€ŸæŸ¥æ‰¾

```
æˆ‘æ˜¯æ–°æ‰‹ï¼Œæƒ³äº†è§£æ•´ä¸ªé¡¹ç›®
  â†’ README.mdï¼ˆé¡¹ç›®ä»‹ç»ï¼‰
  â†’ ä»£ç åˆ†ææ–‡æ¡£.mdï¼ˆè¯¦ç»†åˆ†æï¼‰

æˆ‘æƒ³å­¦ä¹ æŸä¸ªç­–ç•¥
  â†’ ä»£ç åˆ†ææ–‡æ¡£.mdï¼ˆç­–ç•¥è¯¦è§£ç« èŠ‚ï¼‰
  â†’ å‡ºå‘æˆ˜æ³•è¯´æ˜.mdï¼ˆå•ä¸ªæˆ˜æ³•æ·±åº¦æ–‡æ¡£ï¼‰

æˆ‘æƒ³è¿›è¡Œå›æµ‹
  â†’ å›æµ‹æ•™ç¨‹.mdï¼ˆå®Œæ•´å›æµ‹æŒ‡å—ï¼‰
  â†’ backtest.pyï¼ˆå›æµ‹ä»£ç ï¼‰

æˆ‘æƒ³äºŒæ¬¡å¼€å‘
  â†’ ä»£ç åˆ†ææ–‡æ¡£.mdï¼ˆäºŒæ¬¡å¼€å‘æŒ‡å—ç« èŠ‚ï¼‰
  â†’ test_breakout.pyï¼ˆæµ‹è¯•è„šæœ¬å‚è€ƒï¼‰

æˆ‘æƒ³å¿«é€Ÿä¸Šæ‰‹
  â†’ æ–°å¢åŠŸèƒ½è¯´æ˜.mdï¼ˆå¿«é€Ÿå¼€å§‹ï¼‰
  â†’ æœ¬æ–‡æ¡£ï¼ˆå®Œæ•´æµç¨‹ï¼‰
```

---

## ğŸš€ ä»é›¶åˆ°å®æˆ˜å®Œæ•´æµç¨‹

### ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡ï¼ˆ10åˆ†é’Ÿï¼‰

```bash
# 1. åˆ›å»ºPythonç¯å¢ƒ
conda create -n stock python=3.12 -y
conda activate stock

# 2. è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/StockTradebyZ

# 3. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 4. è®¾ç½®Tushare Token
export TUSHARE_TOKEN="ä½ çš„token"

# éªŒè¯å®‰è£…
python -c "import pandas; import tushare; print('OK')"
```

### ç¬¬äºŒæ­¥ï¼šè·å–æ•°æ®ï¼ˆ30åˆ†é’Ÿï¼‰

```bash
# ä¸‹è½½å†å²æ•°æ®ï¼ˆå»ºè®®è‡³å°‘1å¹´ï¼‰
python fetch_kline.py \
  --start 20240101 \
  --end today \
  --stocklist ./stocklist.csv \
  --exclude-boards gem star \
  --out ./data \
  --workers 6

# æ£€æŸ¥æ•°æ®
ls data/*.csv | wc -l  # åº”è¯¥æ˜¾ç¤ºè‚¡ç¥¨æ•°é‡
head -5 data/000001.csv  # æŸ¥çœ‹æ•°æ®æ ¼å¼
```

**é¢„æœŸè¾“å‡º**ï¼š
```
å¼€å§‹æŠ“å– 5000 æ”¯è‚¡ç¥¨ | æ•°æ®æº:Tushare(æ—¥çº¿,qfq)
ä¸‹è½½è¿›åº¦: 100%|â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ| 5000/5000 [15:00<00:00]
å…¨éƒ¨ä»»åŠ¡å®Œæˆï¼Œæ•°æ®å·²ä¿å­˜è‡³ ./data
```

### ç¬¬ä¸‰æ­¥ï¼šè¯•è¿è¡Œé€‰è‚¡ï¼ˆ5åˆ†é’Ÿï¼‰

```bash
# è¿è¡Œæ‰€æœ‰ç­–ç•¥ï¼ˆåŒ…æ‹¬å‡ºå‘æˆ˜æ³•ï¼‰
python select_stock.py --date 2025-01-10

# æŸ¥çœ‹ç»“æœ
tail -50 select_results.log
```

**é¢„æœŸè¾“å‡º**ï¼š
```
============== é€‰è‚¡ç»“æœ [å°‘å¦‡æˆ˜æ³•] ==============
äº¤æ˜“æ—¥: 2025-01-10
ç¬¦åˆæ¡ä»¶è‚¡ç¥¨æ•°: 12
000001, 000002, 600036, ...

============== é€‰è‚¡ç»“æœ [å‡ºå‘æˆ˜æ³•] ==============
äº¤æ˜“æ—¥: 2025-01-10
ç¬¦åˆæ¡ä»¶è‚¡ç¥¨æ•°: 8
000001, 600519, 601318, ...
```

### ç¬¬å››æ­¥ï¼šæµ‹è¯•å•ä¸ªæˆ˜æ³•ï¼ˆ10åˆ†é’Ÿï¼‰

```bash
# æµ‹è¯•å‡ºå‘æˆ˜æ³•ï¼ˆæ‰¹é‡æµ‹è¯•50åªï¼‰
python test_breakout.py batch 50

# å•åªè‚¡ç¥¨è¯¦ç»†åˆ†æ
python test_breakout.py single 000001

# å‚æ•°å¯¹æ¯”æµ‹è¯•
python test_breakout.py params
```

### ç¬¬äº”æ­¥ï¼šå›æµ‹éªŒè¯ï¼ˆ20åˆ†é’Ÿï¼‰

```bash
# è¿è¡Œå›æµ‹
python backtest.py

# æŸ¥çœ‹ç»“æœ
cat å‡ºå‘æˆ˜æ³•_å›æµ‹è®°å½•.csv
```

**é¢„æœŸè¾“å‡º**ï¼š
```
============================================================
å›æµ‹ç»Ÿè®¡æŠ¥å‘Š
============================================================

ã€åŸºç¡€ä¿¡æ¯ã€‘
äº¤æ˜“æ¬¡æ•°ï¼š45
èƒœç‡ï¼š62.22%

ã€æ”¶ç›Šç»Ÿè®¡ã€‘
å¹³å‡æ”¶ç›Šç‡ï¼š3.15%
æ€»æ”¶ç›Šç‡ï¼š5.87%
å‡€åˆ©æ¶¦ï¼š5870.00
```

### ç¬¬å…­æ­¥ï¼šç­–ç•¥å¯¹æ¯”ï¼ˆ15åˆ†é’Ÿï¼‰

```bash
# å¯¹æ¯”æ‰€æœ‰ç­–ç•¥
python backtest.py compare

# æŸ¥çœ‹å¯¹æ¯”ç»“æœ
cat ç­–ç•¥å¯¹æ¯”ç»“æœ.csv
```

---

## ğŸ“– æ ¸å¿ƒåŠŸèƒ½ä½¿ç”¨

### åŠŸèƒ½1ï¼šæ•°æ®è·å–

**åŸºç¡€ç”¨æ³•**ï¼š
```bash
python fetch_kline.py --start 20240101 --end today
```

**é«˜çº§ç”¨æ³•**ï¼š
```bash
# æ’é™¤åˆ›ä¸šæ¿å’Œç§‘åˆ›æ¿
python fetch_kline.py \
  --start 20230101 \
  --end today \
  --exclude-boards gem star \
  --workers 8

# åªæ›´æ–°æœ€è¿‘æ•°æ®
python fetch_kline.py --start 20250101 --end today
```

**æ³¨æ„äº‹é¡¹**ï¼š
- âš ï¸ Tushareæœ‰è®¿é—®é¢‘ç‡é™åˆ¶ï¼Œå»ºè®®ä½¿ç”¨6-8ä¸ªçº¿ç¨‹
- âš ï¸ é‡åˆ°é™æµä¼šè‡ªåŠ¨ä¼‘çœ 600ç§’åé‡è¯•
- âš ï¸ å…¨é‡è¦†ç›–ä¿å­˜ï¼Œä¸åšå¢é‡åˆå¹¶

### åŠŸèƒ½2ï¼šé€‰è‚¡æ‰§è¡Œ

**åŸºç¡€ç”¨æ³•**ï¼š
```bash
python select_stock.py --date 2025-01-10
```

**æŒ‡å®šç­–ç•¥**ï¼š
ä¿®æ”¹ `configs.json`ï¼Œè®¾ç½® `"activate": false` æ¥ç¦ç”¨æŸä¸ªç­–ç•¥ï¼š
```json
{
  "class": "BBIKDJSelector",
  "alias": "å°‘å¦‡æˆ˜æ³•",
  "activate": false,  // ç¦ç”¨æ­¤ç­–ç•¥
  "params": {...}
}
```

**æ‰¹é‡é€‰è‚¡**ï¼š
```python
# custom_select.py
from select_stock import load_data, load_config, instantiate_selector
from pathlib import Path
import pandas as pd

data_dir = Path("./data")
codes = [f.stem for f in data_dir.glob("*.csv")]
data = load_data(data_dir, codes)

# å¯¹å¤šä¸ªæ—¥æœŸæ‰§è¡Œé€‰è‚¡
dates = pd.date_range('2024-01-01', '2024-12-31', freq='W')

for date in dates:
    # æ‰§è¡Œé€‰è‚¡
    picks = selector.select(date, data)
    print(f"{date.date()}: {len(picks)}åª")
```

### åŠŸèƒ½3ï¼šå•åªè‚¡ç¥¨æµ‹è¯•

```bash
# è¯¦ç»†åˆ†æ
python test_breakout.py single 000001 2025-01-10

# è¾“å‡ºåŒ…æ‹¬ï¼š
# - åŸºç¡€æ•°æ®ï¼ˆæ”¶ç›˜ä»·ã€æˆäº¤é‡ã€æ¶¨è·Œå¹…ï¼‰
# - å‡çº¿ç³»ç»Ÿï¼ˆMA5/10/20/30ï¼‰
# - å‰é«˜è¯†åˆ«ï¼ˆä»·æ ¼ã€æ—¥æœŸã€è·ç¦»ï¼‰
# - å›è°ƒå¹…åº¦æ£€æŸ¥
# - éœ‡è¡æ•´ç†æ£€æŸ¥
# - é‡èƒ½åˆ†æï¼ˆæ‹‰å‡æœŸã€éœ‡è¡æœŸã€å½“æ—¥ï¼‰
# - æœ€ç»ˆåˆ¤æ–­ï¼ˆæ˜¯å¦ç¬¦åˆï¼‰
# - æ“ä½œå»ºè®®ï¼ˆä¹°å…¥ä»·ã€æ­¢æŸã€ç›®æ ‡ä½ï¼‰
```

### åŠŸèƒ½4ï¼šå‚æ•°ä¼˜åŒ–

**æ–¹æ³•1ï¼šæ‰‹åŠ¨è°ƒå‚**
```json
// configs.json
{
  "class": "BreakoutPreviousHighSelector",
  "params": {
    "vol_ratio_threshold": 1.8,  // ä»2.0é™åˆ°1.8ï¼Œæ”¾å®½æ¡ä»¶
    "approach_pct": 0.20,         // ä»0.15å¢åˆ°0.20ï¼Œæ›´æ—©ä»‹å…¥
    "consolidation_min_days": 3   // ä»5é™åˆ°3ï¼Œç¼©çŸ­æ•´ç†æ—¶é—´
  }
}
```

**æ–¹æ³•2ï¼šæ‰¹é‡æµ‹è¯•**
```python
# param_optimization.py
from test_breakout import test_batch_stocks

param_sets = [
    {"vol_ratio_threshold": 1.8, "approach_pct": 0.10},
    {"vol_ratio_threshold": 2.0, "approach_pct": 0.15},
    {"vol_ratio_threshold": 2.5, "approach_pct": 0.20},
]

for params in param_sets:
    print(f"\næµ‹è¯•å‚æ•°ï¼š{params}")
    # ä¿®æ”¹configs.json
    # è¿è¡Œæµ‹è¯•
    # è®°å½•ç»“æœ
```

### åŠŸèƒ½5ï¼šå›æµ‹åˆ†æ

**åŸºç¡€å›æµ‹**ï¼š
```python
from backtest import Backtest

bt = Backtest(
    data_dir="./data",
    start_date="2024-01-01",
    end_date="2024-12-31",
    initial_capital=100000.0
)

trades = bt.run_strategy(
    selector_class="BreakoutPreviousHighSelector",
    params={},
    hold_days=5,
    stop_loss_pct=-0.05,
    take_profit_pct=0.15
)

bt.print_stats(trades)
```

**ç­–ç•¥å¯¹æ¯”**ï¼š
```bash
python backtest.py compare
```

**è‡ªå®šä¹‰å›æµ‹**ï¼š
```python
# ä¸åŒæŒæœ‰æœŸå¯¹æ¯”
for days in [3, 5, 7, 10]:
    trades = bt.run_strategy(
        selector_class="BreakoutPreviousHighSelector",
        params={},
        hold_days=days
    )
    print(f"{days}å¤©æŒæœ‰æœŸï¼š{len(trades)}ç¬”äº¤æ˜“")
```

---

## ğŸ“ å­¦ä¹ è·¯å¾„å»ºè®®

### ç¬¬ä¸€å‘¨ï¼šç†Ÿæ‚‰åŸºç¡€

**Day 1-2ï¼šç¯å¢ƒæ­å»º**
- [ ] å®‰è£…Pythonç¯å¢ƒ
- [ ] å®‰è£…ä¾èµ–åŒ…
- [ ] è·å–Tushare Token
- [ ] ä¸‹è½½å†å²æ•°æ®

**Day 3-4ï¼šç†è§£ç­–ç•¥**
- [ ] é˜…è¯» README.md
- [ ] é˜…è¯» ä»£ç åˆ†ææ–‡æ¡£.md çš„ç­–ç•¥éƒ¨åˆ†
- [ ] è¿è¡Œé€‰è‚¡ï¼ŒæŸ¥çœ‹ç»“æœ
- [ ] åˆ†æ1-2åªè‚¡ç¥¨çš„å½¢æ€

**Day 5-7ï¼šæµ‹è¯•éªŒè¯**
- [ ] ä½¿ç”¨ test_breakout.py æµ‹è¯•
- [ ] é˜…è¯» å‡ºå‘æˆ˜æ³•è¯´æ˜.md
- [ ] ç†è§£ä¹°å…¥ä¿¡å·
- [ ] ç»ƒä¹ è¯†åˆ«çœŸå‡çªç ´

### ç¬¬äºŒå‘¨ï¼šæ·±å…¥å­¦ä¹ 

**Day 8-10ï¼šå›æµ‹å®æˆ˜**
- [ ] é˜…è¯» å›æµ‹æ•™ç¨‹.md
- [ ] è¿è¡ŒåŸºç¡€å›æµ‹
- [ ] ç†è§£ç»Ÿè®¡æŒ‡æ ‡
- [ ] åˆ†æäº¤æ˜“è®°å½•

**Day 11-12ï¼šå‚æ•°ä¼˜åŒ–**
- [ ] å°è¯•è°ƒæ•´å‚æ•°
- [ ] å¯¹æ¯”ä¸åŒå‚æ•°æ•ˆæœ
- [ ] ç†è§£å‚æ•°å½±å“

**Day 13-14ï¼šç­–ç•¥å¯¹æ¯”**
- [ ] å›æµ‹å¤šä¸ªç­–ç•¥
- [ ] å¯¹æ¯”æ”¶ç›Šå’Œé£é™©
- [ ] é€‰æ‹©é€‚åˆè‡ªå·±çš„ç­–ç•¥

### ç¬¬ä¸‰å‘¨ï¼šå®æˆ˜å‡†å¤‡

**Day 15-17ï¼šæ¨¡æ‹Ÿäº¤æ˜“**
- [ ] æ¨¡æ‹Ÿç›˜æµ‹è¯•
- [ ] è®°å½•äº¤æ˜“æ—¥å¿—
- [ ] æ€»ç»“ç»éªŒæ•™è®­

**Day 18-19ï¼šé£é™©ç®¡ç†**
- [ ] å­¦ä¹ æ­¢æŸæ­¢ç›ˆ
- [ ] åˆ¶å®šèµ„é‡‘ç®¡ç†è®¡åˆ’
- [ ] å‡†å¤‡åº”æ€¥é¢„æ¡ˆ

**Day 20-21ï¼šæ€»ç»“æå‡**
- [ ] å›é¡¾å­¦ä¹ å†…å®¹
- [ ] åˆ¶å®šäº¤æ˜“è®¡åˆ’
- [ ] å‡†å¤‡æ­£å¼äº¤æ˜“

---

## ğŸ”§ å¼€å‘æŒ‡å—

### æ·»åŠ æ–°æˆ˜æ³•

**æ­¥éª¤1ï¼šåœ¨ Selector.py ä¸­å®ç°**
```python
class MyNewSelector:
    """ä½ çš„æˆ˜æ³•è¯´æ˜"""
    
    def __init__(self, param1=10, param2=20):
        self.param1 = param1
        self.param2 = param2
    
    def _passes_filters(self, hist: pd.DataFrame) -> bool:
        # 1. ç»Ÿä¸€å½“æ—¥è¿‡æ»¤
        if not passes_day_constraints_today(hist):
            return False
        
        # 2. ä½ çš„ç­–ç•¥é€»è¾‘
        # ...
        
        # 3. çŸ¥è¡Œçº¦æŸï¼ˆå¯é€‰ï¼‰
        if not zx_condition_at_positions(hist, ...):
            return False
        
        return True
    
    def select(self, date, data):
        picks = []
        for code, df in data.items():
            hist = df[df["date"] <= date]
            if self._passes_filters(hist):
                picks.append(code)
        return picks
```

**æ­¥éª¤2ï¼šåœ¨ configs.json ä¸­é…ç½®**
```json
{
  "class": "MyNewSelector",
  "alias": "æˆ‘çš„æˆ˜æ³•",
  "activate": true,
  "params": {
    "param1": 15,
    "param2": 30
  }
}
```

**æ­¥éª¤3ï¼šæµ‹è¯•éªŒè¯**
```bash
python select_stock.py --date 2025-01-10
python backtest.py
```

### æ·»åŠ æ–°æŒ‡æ ‡

**åœ¨ Selector.py é¡¶éƒ¨æ·»åŠ **ï¼š
```python
def compute_my_indicator(df: pd.DataFrame, n: int = 20) -> pd.Series:
    """
    è®¡ç®—è‡ªå®šä¹‰æŒ‡æ ‡
    """
    # å®ç°é€»è¾‘
    return result_series
```

**åœ¨ç­–ç•¥ä¸­ä½¿ç”¨**ï¼š
```python
def _passes_filters(self, hist: pd.DataFrame) -> bool:
    my_indicator = compute_my_indicator(hist, n=20)
    if my_indicator.iloc[-1] < threshold:
        return False
    # ...
```

### è‡ªå®šä¹‰å›æµ‹æŒ‡æ ‡

```python
# custom_metrics.py
def calculate_sharpe_ratio(trades: pd.DataFrame, risk_free_rate: float = 0.03):
    """è®¡ç®—å¤æ™®æ¯”ç‡"""
    returns = trades['profit_pct'] / 100
    excess_returns = returns - risk_free_rate / 252  # æ—¥åŒ–æ— é£é™©åˆ©ç‡
    sharpe = excess_returns.mean() / excess_returns.std() * np.sqrt(252)
    return sharpe

def calculate_max_drawdown(trades: pd.DataFrame):
    """è®¡ç®—æœ€å¤§å›æ’¤"""
    cumulative = trades.sort_values('sell_date')['profit_amount'].cumsum()
    running_max = cumulative.cummax()
    drawdown = (cumulative - running_max) / running_max
    return drawdown.min()
```

---

## ğŸ“Š å®æˆ˜å»ºè®®

### é€‰è‚¡æ“ä½œå»ºè®®

**æ¯æ—¥é€‰è‚¡æµç¨‹**ï¼š
```
1. æ”¶ç›˜åæ›´æ–°æ•°æ®
   python fetch_kline.py --start today --end today

2. æ‰§è¡Œé€‰è‚¡
   python select_stock.py --date today

3. ç­›é€‰ç»“æœ
   - æŸ¥çœ‹å¤šä¸ªç­–ç•¥å…±åŒé€‰ä¸­çš„è‚¡ç¥¨
   - æ‰‹åŠ¨å¤æ ¸å½¢æ€
   - æ£€æŸ¥åŸºæœ¬é¢

4. åˆ¶å®šè®¡åˆ’
   - ç¡®å®šä¹°å…¥ä»·æ ¼
   - è®¾ç½®æ­¢æŸæ­¢ç›ˆ
   - è®¡ç®—ä»“ä½
```

**ä¹°å…¥å‰æ£€æŸ¥æ¸…å•**ï¼š
```
â–¡ ç­–ç•¥ä¿¡å·æ˜ç¡®
â–¡ å½¢æ€ç¬¦åˆè¦æ±‚
â–¡ é‡èƒ½æ»¡è¶³æ¡ä»¶
â–¡ å‡çº¿ç³»ç»Ÿæ”¯æŒ
â–¡ å¤§ç›˜ç¯å¢ƒè‰¯å¥½
â–¡ æ¿å—æœ‰çƒ­ç‚¹
â–¡ èµ„é‡‘æµå…¥æŒç»­
â–¡ åŸºæœ¬é¢æ— é‡å¤§åˆ©ç©º
â–¡ ä»“ä½è®¡ç®—åˆç†
â–¡ æ­¢æŸæ­¢ç›ˆå·²è®¾å®š
```

### é£é™©æ§åˆ¶å»ºè®®

**ä»“ä½ç®¡ç†**ï¼š
```
æ€»ä»“ä½ï¼š
  ç†Šå¸‚ï¼šâ‰¤30%
  éœ‡è¡ï¼š30-50%
  ç‰›å¸‚ï¼š50-70%

å•åªä»“ä½ï¼š
  ä¿å®ˆï¼šâ‰¤5%
  ä¸­æ€§ï¼š5-10%
  æ¿€è¿›ï¼š10-15%

åˆ†æ‰¹å»ºä»“ï¼š
  ç¬¬ä¸€æ‰¹ï¼š40%ï¼ˆçªç ´ç¡®è®¤ï¼‰
  ç¬¬äºŒæ‰¹ï¼š30%ï¼ˆå›è¸©ä¸ç ´ï¼‰
  ç¬¬ä¸‰æ‰¹ï¼š30%ï¼ˆè¶‹åŠ¿ç¡®ç«‹ï¼‰
```

**æ­¢æŸæ­¢ç›ˆ**ï¼š
```
æ­¢æŸï¼š
  âœ“ è·Œç ´MA5/MA10
  âœ“ å›ºå®š-5%
  âœ“ æ”¾é‡ä¸‹è·Œ

æ­¢ç›ˆï¼š
  âœ“ å‰é«˜+5%ï¼ˆå–30%ï¼‰
  âœ“ å‰é«˜+10%ï¼ˆå–40%ï¼‰
  âœ“ å‰é«˜+15%ï¼ˆå–30%ï¼‰
```

---

## ğŸ› å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šTushareé™æµ

**ç°è±¡**ï¼š
```
è®¿é—®é¢‘ç¹ï¼Œè¯·ç¨åå†è¯•
```

**è§£å†³**ï¼š
```
1. é™ä½å¹¶å‘æ•°ï¼š--workers 4
2. åˆ†æ‰¹æŠ“å–ï¼šå…ˆæŠ“ä¸»æ¿ï¼Œå†æŠ“åˆ›ä¸šæ¿
3. ç­‰å¾…å†·å´ï¼šè„šæœ¬ä¼šè‡ªåŠ¨ä¼‘çœ 600ç§’
4. å‡çº§æƒé™ï¼šç”³è¯·Tushareç§¯åˆ†
```

### é—®é¢˜2ï¼šé€‰è‚¡ç»“æœä¸ºç©º

**æ’æŸ¥æ­¥éª¤**ï¼š
```
1. æ£€æŸ¥æ•°æ®
   ls data/*.csv | wc -l
   head data/000001.csv

2. æ£€æŸ¥æ—¥æœŸ
   ç¡®è®¤--dateæ˜¯äº¤æ˜“æ—¥
   æˆ–çœç•¥--dateä½¿ç”¨æœ€æ–°æ•°æ®

3. æ”¾å®½å‚æ•°
   é™ä½å„é¡¹é˜ˆå€¼
   å¢åŠ å®¹å¿åº¦

4. å•åªæµ‹è¯•
   python test_breakout.py single 000001
   æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
```

### é—®é¢˜3ï¼šå›æµ‹æ”¶ç›Šä¸ºè´Ÿ

**å¯èƒ½åŸå› **ï¼š
```
1. å‚æ•°ä¸å½“
   â†’ ä¼˜åŒ–å‚æ•°

2. å¸‚åœºç¯å¢ƒå·®
   â†’ æ¢ä¸ªæ—¶é—´æ®µæµ‹è¯•

3. æ­¢æŸå¤ªä¸¥
   â†’ é€‚å½“æ”¾å®½æ­¢æŸ

4. ä½£é‡‘æ»‘ç‚¹é«˜
   â†’ æ£€æŸ¥è®¾ç½®æ˜¯å¦åˆç†
```

### é—®é¢˜4ï¼šå®ç›˜ä¸å›æµ‹å·®å¼‚å¤§

**åŸå› åˆ†æ**ï¼š
```
1. è¿‡æ‹Ÿåˆ
   â†’ åœ¨ä¸åŒæ—¶æœŸéªŒè¯

2. æ»‘ç‚¹ä½ä¼°
   â†’ æé«˜slippage_rate

3. æµåŠ¨æ€§é—®é¢˜
   â†’ æ·»åŠ æˆäº¤é‡è¿‡æ»¤

4. å¿ƒç†å› ç´ 
   â†’ ä¸¥æ ¼æ‰§è¡Œçºªå¾‹
```

---

## ğŸ“š æ¨èèµ„æº

### å­¦ä¹ èµ„æ–™

**æŠ€æœ¯åˆ†æ**ï¼š
- ã€Šæ—¥æœ¬èœ¡çƒ›å›¾æŠ€æœ¯ã€‹- å²è’‚å¤«Â·å°¼æ£®
- ã€Šè‚¡å¸‚è¶‹åŠ¿æŠ€æœ¯åˆ†æã€‹- ç½—ä¼¯ç‰¹Â·DÂ·çˆ±å¾·åå…¹
- ã€Šäº¤æ˜“ç³»ç»Ÿå¼€å‘æŒ‡å—ã€‹- Perry J. Kaufman

**é‡åŒ–äº¤æ˜“**ï¼š
- ã€ŠPythoné‡‘èå¤§æ•°æ®åˆ†æã€‹- Yves Hilpisch
- ã€Šç®—æ³•äº¤æ˜“ã€‹- Ernest P. Chan
- ã€Šé‡åŒ–æŠ•èµ„ï¼šç­–ç•¥ä¸æŠ€æœ¯ã€‹- ä¸é¹

**åœ¨çº¿è¯¾ç¨‹**ï¼š
- Bç«™ï¼šZå“¥æˆ˜æ³•ç³»åˆ—è§†é¢‘
- Courseraï¼šMachine Learning for Trading
- Udemyï¼šPython for Finance

### å·¥å…·æ¨è

**æ•°æ®æº**ï¼š
- Tushareï¼šæœ¬é¡¹ç›®ä½¿ç”¨
- AKShareï¼šå…è´¹å¤‡é€‰
- Windï¼šä¸“ä¸šçº§ï¼ˆæ”¶è´¹ï¼‰

**å›æµ‹æ¡†æ¶**ï¼š
- Backtraderï¼šåŠŸèƒ½å¼ºå¤§
- Ziplineï¼šQuantopianå¼€æº
- VectorBTï¼šå‘é‡åŒ–å›æµ‹

**å¯è§†åŒ–**ï¼š
- Matplotlibï¼šåŸºç¡€ç»˜å›¾
- Plotlyï¼šäº¤äº’å›¾è¡¨
- mplfinanceï¼šKçº¿å›¾

---

## ğŸ¯ ä¸‹ä¸€æ­¥è®¡åˆ’

### çŸ­æœŸï¼ˆ1-2å‘¨ï¼‰
- [ ] å®Œæˆç¯å¢ƒæ­å»º
- [ ] ç†è§£æ‰€æœ‰ç­–ç•¥
- [ ] è¿è¡Œå®Œæ•´å›æµ‹
- [ ] å¼€å§‹æ¨¡æ‹Ÿäº¤æ˜“

### ä¸­æœŸï¼ˆ1-3æœˆï¼‰
- [ ] ä¼˜åŒ–å‚æ•°é…ç½®
- [ ] å¼€å‘è‡ªå®šä¹‰ç­–ç•¥
- [ ] å®ç›˜å°é¢éªŒè¯
- [ ] ç§¯ç´¯äº¤æ˜“ç»éªŒ

### é•¿æœŸï¼ˆ3-6æœˆï¼‰
- [ ] å»ºç«‹äº¤æ˜“ç³»ç»Ÿ
- [ ] å½¢æˆäº¤æ˜“é£æ ¼
- [ ] ç¨³å®šç›ˆåˆ©æ¨¡å¼
- [ ] æ‰©å¤§äº¤æ˜“è§„æ¨¡

---

## ğŸ“ è·å–å¸®åŠ©

### é—®é¢˜åé¦ˆ
- GitHub Issuesï¼šæäº¤bugæˆ–å»ºè®®
- é‚®ä»¶ï¼šyour-email@example.com
- å¾®ä¿¡ç¾¤ï¼šé‡åŒ–äº¤æµç¾¤

### è´¡çŒ®ä»£ç 
1. Fork é¡¹ç›®
2. åˆ›å»ºåˆ†æ”¯
3. æäº¤æ”¹åŠ¨
4. å‘èµ· Pull Request

---

## ğŸ™ è‡´è°¢

- **@Zettarancï¼ˆZå“¥ï¼‰**ï¼šæ„Ÿè°¢åœ¨Bilibiliçš„æ— ç§åˆ†äº«
- **Tushare**ï¼šæä¾›ä¼˜è´¨çš„é‡‘èæ•°æ®æ¥å£
- **å¼€æºç¤¾åŒº**ï¼špandasã€numpyã€scipyç­‰ä¼˜ç§€å·¥å…·

---

## âš ï¸ é£é™©å£°æ˜

**è¯·åŠ¡å¿…è®¤çœŸé˜…è¯»**ï¼š

```
1. æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ ç ”ç©¶ä½¿ç”¨ï¼Œä¸æ„æˆä»»ä½•æŠ•èµ„å»ºè®®
2. è‚¡å¸‚æœ‰é£é™©ï¼Œå…¥å¸‚éœ€è°¨æ…
3. å†å²ä¸šç»©ä¸ä»£è¡¨æœªæ¥æ”¶ç›Š
4. ä½¿ç”¨æœ¬é¡¹ç›®äº§ç”Ÿçš„ä»»ä½•ç›ˆäºï¼Œç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…
5. è¯·åœ¨å……åˆ†ç†è§£ç­–ç•¥çš„åŸºç¡€ä¸Šä½¿ç”¨
6. å»ºè®®å…ˆç”¨æ¨¡æ‹Ÿç›˜éªŒè¯åå†å®ç›˜
7. ä¸¥æ ¼æ‰§è¡Œé£é™©ç®¡ç†ï¼Œæ§åˆ¶ä»“ä½
8. ä¿æŒç†æ€§ï¼Œä¸è¦ç›²ç›®è¿½æ¶¨æ€è·Œ
```

---

## ğŸ“ ç‰ˆæœ¬å†å²

**v2.0 (2025-09-10)**
- âœ… æ–°å¢å‡ºå‘æˆ˜æ³•ï¼ˆBreakoutPreviousHighSelectorï¼‰
- âœ… å®Œå–„å›æµ‹æ¡†æ¶ï¼ˆbacktest.pyï¼‰
- âœ… æ·»åŠ æµ‹è¯•è„šæœ¬ï¼ˆtest_breakout.pyï¼‰
- âœ… è¡¥å……å®Œæ•´æ–‡æ¡£ä½“ç³»
- âœ… ä¼˜åŒ–ä»£ç ç»“æ„

**v1.0 (2025-09-09)**
- âœ… å®ç°5ä¸ªåŸºç¡€ç­–ç•¥
- âœ… æ•°æ®è·å–åŠŸèƒ½
- âœ… é€‰è‚¡æ‰§è¡ŒåŠŸèƒ½
- âœ… åŸºç¡€æ–‡æ¡£

---

**ç¥ä½ é‡åŒ–ä¹‹è·¯é¡ºåˆ©ï¼** ğŸš€ğŸ“ˆ

å¦‚æœ‰ç–‘é—®ï¼Œè¯·å‚è€ƒå¯¹åº”çš„è¯¦ç»†æ–‡æ¡£æˆ–æäº¤Issueã€‚


